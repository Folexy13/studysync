<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudySync AI - Study Panel</title>
  <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
  <div class="panel-container">
    <!-- Header -->
    <div class="panel-header">
      <div class="header-content">
        <h1>ğŸ“š Study Panel</h1>
        <button id="refreshBtn" class="icon-btn" title="Refresh">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
      
      <!-- Tabs -->
      <div class="tabs">
        <button class="tab active" data-tab="result">Result</button>
        <button class="tab" data-tab="saved">Saved (0)</button>
        <button class="tab" data-tab="input">New Input</button>
      </div>
    </div>

    <!-- Tab Content -->
    <div class="panel-body">
      <!-- Result Tab -->
      <div id="resultTab" class="tab-content active">
        <div id="emptyState" class="empty-state">
          <div class="empty-icon">ğŸ¯</div>
          <h2>No Results Yet</h2>
          <p>Select text on the page and choose an action from the context menu or popup.</p>
          <div class="example-actions">
            <div class="example-item">
              <span class="example-icon">ğŸ“„</span>
              <span>Summarize articles</span>
            </div>
            <div class="example-item">
              <span class="example-icon">ğŸŒ</span>
              <span>Translate content</span>
            </div>
            <div class="example-item">
              <span class="example-icon">â“</span>
              <span>Generate questions</span>
            </div>
          </div>
        </div>

        <div id="resultContent" class="result-content" style="display: none;">
          <div class="result-header">
            <div class="result-meta">
              <span id="resultAction" class="result-action"></span>
              <span id="resultTime" class="result-time"></span>
            </div>
            <div class="result-actions">
              <button id="copyResult" class="icon-btn" title="Copy">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
                  <path d="M6 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H6zm0 2h6v8H6V4z"/>
                  <path d="M4 14v-2H2v4a2 2 0 002 2h8v-2H4v-2z"/>
                </svg>
              </button>
              <button id="saveResult" class="icon-btn" title="Save">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
                  <path d="M14 2H4a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2zM4 4h10v12H4V4zm2 2v4h6V6H6z"/>
                </svg>
              </button>
              <button id="exportResult" class="icon-btn" title="Export">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="currentColor">
                  <path fill-rule="evenodd" d="M3 17a1 1 0 001 1h10a1 1 0 001-1v-6h-2v5H5v-5H3v6zM9 1L5 5h3v7h2V5h3L9 1z" clip-rule="evenodd"/>
                </svg>
              </button>
            </div>
          </div>
          
          <div id="resultText" class="result-text"></div>
          
          <div class="result-original">
            <div class="original-header">
              <span>Original Text</span>
              <button id="toggleOriginal" class="text-btn">Show</button>
            </div>
            <div id="originalText" class="original-text" style="display: none;"></div>
          </div>
        </div>
      </div>

      <!-- Saved Tab -->
      <div id="savedTab" class="tab-content">
        <div id="savedEmpty" class="empty-state">
          <div class="empty-icon">ğŸ’¾</div>
          <h2>No Saved Materials</h2>
          <p>Your saved study materials will appear here.</p>
        </div>
        
        <div id="savedList" class="saved-list" style="display: none;"></div>
      </div>

      <!-- Input Tab -->
      <div id="inputTab" class="tab-content">
        <div class="input-section">
          <h3>Custom Input</h3>
          <textarea id="customTextInput" placeholder="Paste text, lecture notes, or any content you want to process..." rows="8"></textarea>
          
          <div class="action-select">
            <label for="actionSelect">Choose Action:</label>
            <select id="actionSelect">
              <option value="summarize">ğŸ“„ Summarize</option>
              <option value="translate">ğŸŒ Translate</option>
              <option value="questions">â“ Generate Questions</option>
              <option value="flashcards">ğŸ—‚ï¸ Create Flashcards</option>
              <option value="proofread">âœï¸ Proofread</option>
              <option value="explain">ğŸ’¡ Explain Simply</option>
              <option value="structure">ğŸ“‹ Structure Notes</option>
            </select>
          </div>
          
          <button id="processInput" class="primary-btn">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="margin-right: 6px;">
              <path d="M8 0a8 8 0 100 16A8 8 0 008 0zm1 11.5l-4-3 4-3v6z"/>
            </svg>
            Process Text
          </button>
        </div>
        
        <div class="quick-tips">
          <h4>ğŸ’¡ Quick Tips</h4>
          <ul>
            <li>Use <strong>Ctrl+Shift+S</strong> to summarize selected text</li>
            <li>Use <strong>Ctrl+Shift+T</strong> to translate selected text</li>
            <li>Use <strong>Ctrl+Shift+Q</strong> to generate questions</li>
            <li>Right-click selected text for more options</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
      <div class="loading-spinner"></div>
      <p>Processing with AI...</p>
    </div>
  </div>

  <script src="sidepanel.js"></script>
</body>
</html>
